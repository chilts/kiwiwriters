%# ----------------------------------------------------------------------------
<%args>
    $zaapt
    $id
    $page
</%args>
%# ----------------------------------------------------------------------------
<%once>
    my $pages = {
        index => 1,
        edit  => 1,
    };
</%once>
%# ----------------------------------------------------------------------------
<%init>
    if ( exists $pages->{$page} ) {
        # main index page
        $m->comp(
            "/zaapt/model/profile/user-$page.mhtml",
            %ARGS,
            zaapt    => $zaapt,
            id       => $id,
        );
    }
    else {
        $m->clear_buffer();
        $m->abort(404);
        return;
    }
    return;
</%init>
%# ----------------------------------------------------------------------------
